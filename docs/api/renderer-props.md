# ContentBlocksRenderer Props

Complete API reference for all props accepted by the `ContentBlocksRenderer` component. The renderer displays HTML content generated by the editor.

## Import

```tsx
import { ContentBlocksRenderer } from 'authorly-editor';
import type { ContentBlocksRendererProps } from 'authorly-editor';
```

## Props Overview

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `html` | `string` | (required) | HTML content to render |
| `darkMode` | `boolean` | `false` | Enable dark mode styling |
| `className` | `string` | `''` | Additional CSS class for container |
| `style` | `React.CSSProperties` | `{}` | Inline styles for container |
| `enableCodeCopy` | `boolean` | `true` | Add copy button to code blocks |
| `enableChecklistStyles` | `boolean` | `true` | Style completed checklist items |
| `enableHeadingIds` | `boolean` | `true` | Add IDs to headings for navigation |
| `classPrefix` | `string` | `'cb'` | CSS class prefix |

## Required Props

### html

The HTML content to render. This should be the output from `ContentBlocksEditor`.

**Type:** `string` (required)

**Examples:**

```tsx
// Static content
<ContentBlocksRenderer 
  html="<p>Hello world</p><h2>Heading</h2>"
/>

// From state
const [content, setContent] = useState('<p>Saved content</p>');
<ContentBlocksRenderer html={content} />

// From API
const { data } = await fetch('/api/article/123');
<ContentBlocksRenderer html={data.content} />

// From editor
const html = editorRef.current?.getHTML();
<ContentBlocksRenderer html={html} />
```

## Display Props

### darkMode

Enable dark mode styling for the rendered content.

**Type:** `boolean`  
**Default:** `false`

**Examples:**

```tsx
// Dark mode
<ContentBlocksRenderer 
  html={content}
  darkMode={true}
/>

// Toggle dark mode
const [isDark, setIsDark] = useState(false);

<div className={isDark ? 'cb-dark' : ''}>
  <ContentBlocksRenderer 
    html={content}
    darkMode={isDark}
  />
</div>

// System preference
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
<ContentBlocksRenderer 
  html={content}
  darkMode={prefersDark}
/>
```

### className

Additional CSS class names for the renderer container.

**Type:** `string`  
**Default:** `''`

**Examples:**

```tsx
// Tailwind classes
<ContentBlocksRenderer 
  html={content}
  className="max-w-4xl mx-auto prose prose-lg"
/>

// Custom class
<ContentBlocksRenderer 
  html={content}
  className="article-content"
/>

// Multiple classes
<ContentBlocksRenderer 
  html={content}
  className="content-wrapper theme-light rounded-lg shadow-md"
/>
```

### style

Inline CSS styles for the renderer container.

**Type:** `React.CSSProperties`  
**Default:** `{}`

**Examples:**

```tsx
// Max width
<ContentBlocksRenderer 
  html={content}
  style={{ maxWidth: '800px', margin: '0 auto' }}
/>

// Custom colors
<ContentBlocksRenderer 
  html={content}
  style={{ 
    backgroundColor: '#f9fafb',
    padding: '2rem'
  }}
/>

// Responsive
<ContentBlocksRenderer 
  html={content}
  style={{ 
    padding: '1rem',
    minHeight: '300px'
  }}
/>
```

### classPrefix

Prefix for all CSS classes. Useful for avoiding class name conflicts.

**Type:** `string`  
**Default:** `'cb'`

**Examples:**

```tsx
// Custom prefix
<ContentBlocksRenderer 
  html={content}
  classPrefix="article"
/>
// Generates: .article-content, .article-block, etc.

// No prefix
<ContentBlocksRenderer 
  html={content}
  classPrefix=""
/>
// Generates: .content, .block, etc.
```

## Feature Props

### enableCodeCopy

Add a copy button to all code blocks.

**Type:** `boolean`  
**Default:** `true`

**What it does:**
- Adds a "Copy" button to top-right of code blocks
- Clicking copies code to clipboard
- Shows "Copied!" confirmation
- Styled button with hover effects

**Examples:**

```tsx
// With copy button (default)
<ContentBlocksRenderer 
  html={content}
  enableCodeCopy={true}
/>

// Without copy button
<ContentBlocksRenderer 
  html={content}
  enableCodeCopy={false}
/>
```

**HTML Output:**

```html
<!-- With enableCodeCopy={true} -->
<div class="cb-code-block">
  <button class="cb-code-copy-btn">Copy</button>
  <pre><code>console.log('Hello');</code></pre>
</div>

<!-- With enableCodeCopy={false} -->
<div class="cb-code-block">
  <pre><code>console.log('Hello');</code></pre>
</div>
```

### enableChecklistStyles

Apply strikethrough styling to completed checklist items.

**Type:** `boolean`  
**Default:** `true`

**What it does:**
- Adds strikethrough to checked items
- Dims text color for completed items
- Updates checkboxes to show checked state
- Improves visual hierarchy

**Examples:**

```tsx
// With checklist styles (default)
<ContentBlocksRenderer 
  html={content}
  enableChecklistStyles={true}
/>

// Without checklist styles
<ContentBlocksRenderer 
  html={content}
  enableChecklistStyles={false}
/>
```

**HTML Processing:**

```html
<!-- Input HTML -->
<ul class="cb-checklist">
  <li data-checked="true">Completed task</li>
  <li data-checked="false">Pending task</li>
</ul>

<!-- With enableChecklistStyles={true} -->
<ul class="cb-checklist">
  <li data-checked="true" style="text-decoration: line-through; opacity: 0.6;">
    <input type="checkbox" checked disabled />
    Completed task
  </li>
  <li data-checked="false">
    <input type="checkbox" disabled />
    Pending task
  </li>
</ul>
```

### enableHeadingIds

Automatically add IDs to heading elements for navigation and linking.

**Type:** `boolean`  
**Default:** `true`

**What it does:**
- Adds unique IDs to all `<h1>` - `<h6>` elements
- Enables anchor links to headings
- Works with `TableOfContents` component
- Creates SEO-friendly URLs

**Examples:**

```tsx
// With heading IDs (default)
<ContentBlocksRenderer 
  html={content}
  enableHeadingIds={true}
/>

// Without heading IDs
<ContentBlocksRenderer 
  html={content}
  enableHeadingIds={false}
/>
```

**HTML Processing:**

```html
<!-- Input HTML -->
<h1>Introduction</h1>
<h2>Getting Started</h2>
<h2>Features</h2>

<!-- With enableHeadingIds={true} -->
<h1 id="heading-0">Introduction</h1>
<h2 id="heading-1">Getting Started</h2>
<h2 id="heading-2">Features</h2>
```

**Use with TableOfContents:**

```tsx
const html = '<h1>Title</h1><h2>Section</h2>';

<div>
  <TableOfContents html={html} />
  <ContentBlocksRenderer 
    html={html}
    enableHeadingIds={true}
  />
</div>
```

## Complete Examples

### Basic Usage

```tsx
import { ContentBlocksRenderer } from 'authorly-editor';

function ArticlePage({ article }) {
  return (
    <article>
      <h1>{article.title}</h1>
      <ContentBlocksRenderer html={article.content} />
    </article>
  );
}
```

### Blog Post with TOC

```tsx
import { ContentBlocksRenderer, TableOfContents } from 'authorly-editor';

function BlogPost({ post }) {
  return (
    <div className="blog-layout">
      <aside className="sidebar">
        <TableOfContents 
          html={post.content}
          title="Contents"
        />
      </aside>
      
      <main className="content">
        <h1>{post.title}</h1>
        <ContentBlocksRenderer 
          html={post.content}
          enableHeadingIds={true}
          enableCodeCopy={true}
        />
      </main>
    </div>
  );
}
```

### Dark Mode

```tsx
import { useState } from 'react';
import { ContentBlocksRenderer } from 'authorly-editor';

function Article({ content }) {
  const [isDark, setIsDark] = useState(false);

  return (
    <div className={isDark ? 'cb-dark' : ''}>
      <button onClick={() => setIsDark(!isDark)}>
        Toggle Dark Mode
      </button>
      
      <ContentBlocksRenderer 
        html={content}
        darkMode={isDark}
        className="article-content"
      />
    </div>
  );
}
```

### Styled Container

```tsx
<ContentBlocksRenderer 
  html={content}
  className="prose prose-lg max-w-4xl mx-auto"
  style={{
    padding: '2rem',
    backgroundColor: '#fff',
    borderRadius: '8px',
    boxShadow: '0 2px 8px rgba(0,0,0,0.1)'
  }}
  enableCodeCopy={true}
  enableHeadingIds={true}
/>
```

### SSR / Server Components

```tsx
// Next.js App Router (Server Component)
import { ContentBlocksRenderer } from 'authorly-editor';

async function ArticlePage({ params }) {
  const article = await fetchArticle(params.id);
  
  return (
    <ContentBlocksRenderer 
      html={article.content}
      enableCodeCopy={true}
    />
  );
}
```

### Documentation Site

```tsx
import { ContentBlocksRenderer, TableOfContents } from 'authorly-editor';

function DocsPage({ doc }) {
  return (
    <div className="docs-layout">
      {/* Sidebar TOC */}
      <nav className="sidebar">
        <TableOfContents 
          html={doc.content}
          title="On This Page"
          minLevel={2}
          maxLevel={3}
        />
      </nav>

      {/* Main content */}
      <main className="prose dark:prose-invert">
        <ContentBlocksRenderer 
          html={doc.content}
          enableCodeCopy={true}
          enableHeadingIds={true}
          className="doc-content"
        />
      </main>
    </div>
  );
}
```

### Custom Styling

```tsx
<ContentBlocksRenderer 
  html={content}
  classPrefix="article"
  className="custom-renderer"
  style={{
    '--article-max-width': '800px',
    '--article-padding': '2rem',
  } as React.CSSProperties}
/>

// CSS
.custom-renderer {
  max-width: var(--article-max-width);
  padding: var(--article-padding);
}

.article-code-block {
  background: #1e293b;
  border-radius: 8px;
}
```

## Common Patterns

### Loading State

```tsx
function Article({ articleId }) {
  const [content, setContent] = useState('');
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetch(`/api/articles/${articleId}`)
      .then(r => r.json())
      .then(data => {
        setContent(data.content);
        setLoading(false);
      });
  }, [articleId]);

  if (loading) return <div>Loading...</div>;

  return <ContentBlocksRenderer html={content} />;
}
```

### Error Boundary

```tsx
import { ErrorBoundary } from 'react-error-boundary';

function SafeRenderer({ html }) {
  return (
    <ErrorBoundary fallback={<div>Failed to render content</div>}>
      <ContentBlocksRenderer html={html} />
    </ErrorBoundary>
  );
}
```

### Print Styles

```tsx
<ContentBlocksRenderer 
  html={content}
  className="printable-content"
/>

// CSS
@media print {
  .printable-content {
    max-width: 100%;
    padding: 0;
  }
  
  .cb-code-copy-btn {
    display: none;
  }
}
```

## TypeScript

```tsx
import type { ContentBlocksRendererProps } from 'authorly-editor';

const rendererProps: ContentBlocksRendererProps = {
  html: '<p>Content</p>',
  darkMode: false,
  enableCodeCopy: true,
  enableChecklistStyles: true,
  enableHeadingIds: true,
};

<ContentBlocksRenderer {...rendererProps} />
```

## SSR Compatibility

The renderer is fully compatible with:
- Next.js Server Components
- Next.js Pages Router (SSR)
- Remix
- Gatsby
- Static Site Generators

```tsx
// Next.js App Router
export default async function Page() {
  const content = await getContent();
  return <ContentBlocksRenderer html={content} />;
}

// Next.js Pages Router
export async function getServerSideProps() {
  const content = await getContent();
  return { props: { content } };
}

export default function Page({ content }) {
  return <ContentBlocksRenderer html={content} />;
}
```

## Performance

- Lightweight component (minimal JavaScript)
- No state management overhead
- Uses native browser HTML rendering
- Code highlighting processed on server
- Optimized for large documents

## Browser Support

- All modern browsers (Chrome, Firefox, Safari, Edge)
- IE11 not supported (uses modern DOM APIs)
- Progressive enhancement for older browsers

## See Also

- [ContentBlocksEditor](/docs/components/editor) - Editor component
- [TableOfContents](/docs/components/table-of-contents) - Navigation from headings
- [Styling Guide](/docs/guides/styling) - Custom styling
- [Quick Start](/docs/quick-start) - Getting started
